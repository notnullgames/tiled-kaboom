<title>kaboom game</title>
<style>
body, * {
  margin: 0;
} 
body {
  background: black;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}
canvas {
  width: 90vw;
  margin: 0;
  background: black;
  border: 4px solid yellow;
}
</style>

<script src="https://kaboomjs.com/lib/dev/kaboom.js"></script>

<script type="module">
import tiledKaboom from 'https://unpkg.com/tiled-kaboom@latest/dist/kaboom-tiled.modern.js'

const k = kaboom({
    plugins: [ tiledKaboom ]
})

// get my JSON file with the map, and parse it
const { sprites, levels, key } = await k.loadTiledMap(await fetch('map.json').then(r => r.json()))

// here you can do whatever you like to key, for example adding solid()
// eventually, I will auto-load tags when I load the map.

for (let level of levels) {
  k.addLevel(level, { width: 32, height: 32, ...key })

  // level is just a regular kaboom map-string array
  console.log(level.join('\n'))
}

</script>